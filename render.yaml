services:
  # Main FastAPI web service
  - type: web
    name: caza2026-api
    env: python
    buildCommand: "pip install -r requirements.txt"
    startCommand: "uvicorn main:app --host 0.0.0.0 --port $PORT"
    envVars:
      - key: MERCADOPAGO_ACCESS_TOKEN
        sync: false # Set to true to sync from Render dashboard
      - key: AIRTABLE_API_KEY
        sync: false # Set to true to sync from Render dashboard
      - key: AIRTABLE_BASE_ID
        value: "app2WxKfUMvO4oj5q"
      - key: AIRTABLE_PRICE_TABLE_NAME
        value: "tbl3tpeIUcsFQV7TT"
      # Add other environment variables here as needed
    healthCheckPath: /

  # Static site for serving PDFs
  - type: static
    name: caza2026-pdfs-static
    rootDir: pdfs
    # This ensures that when you access files from this service,
    # the URL will be https://caza2026-pdfs-static.onrender.com/registro_1.pdf
    # Render automatically generates a unique URL for static sites.
    # We will fetch this URL from Render (e.g., through dashboard or API) and
    # use it in the frontend. For now, we assume it will follow the pattern.
